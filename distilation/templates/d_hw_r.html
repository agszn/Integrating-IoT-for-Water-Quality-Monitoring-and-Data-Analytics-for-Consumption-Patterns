{% extends "base.html" %}
{% block title %}{% endblock %}

{% block style %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block index %}
{% endblock %}

{% block content %}
            
<h1>Potability Prediction Result</h1>

<!-- Check if input values exist -->
{% if pH or Hardness or Solids or Chloramines or Sulfate or Conductivity or Organic_carbon or Trihalomethanes or Turbidity %}
            <h2>Input Values:</h2>
               <ul>
                {% if pH %}
                <li>pH: {{ pH }}</li>
                {% endif %}
                {% if Hardness %}
                <li>Hardness: {{ Hardness }}</li>
                {% endif %}
                {% if Solids %}
                <li>Solids: {{ Solids }}</li>
                {% endif %}
                {% if Chloramines %}
                <li>Chloramines: {{ Chloramines }}</li>
                {% endif %}
                {% if Sulfate %}
                <li>Sulfate: {{ Sulfate }}</li>
                {% endif %}
                {% if Conductivity %}
                <li>Conductivity: {{ Conductivity }}</li>
                {% endif %}
                {% if Organic_carbon %}
                <li>Organic Carbon: {{ Organic_carbon }}</li>
                {% endif %}
                {% if Trihalomethanes %}
                <li>Trihalomethanes: {{ Trihalomethanes }}</li>
                {% endif %}
                {% if Turbidity %}
                <li>Turbidity: {{ Turbidity }}</li>
                {% endif %}
            </ul>
            {% endif %}
            <h1>Water Potability Prediction Result</h1>
            <div style="background-color: rgb(254, 253, 255); font-size:xx-large; font-weight: bolder; border: 10px solid purple; text-align: center;">
                <p>{{ prediction }}</p>
            </div>
            <div style="background-color: rgb(254, 253, 255); font-size:xx-large; font-weight: bolder; border: 10px solid purple; text-align: center;">
                <p>{{ useability }}</p>
            </div>



            <div class="row">
                <div class="col-sm-12">
                    <div class="well">
                        <canvas id="barChart" width="100%" height="40"></canvas>
                    </div>
                </div>
            </div>
{% endblock %}


{% block footer %}
{% endblock %}

{% block script %}
<script>
    // Sample data for charts
    // Define your dynamic data
    var labels = ["Random Forest", "SVM", "KNN"];
    var dataValues = [92,97,94];

    // Create the datasets object
    var datasets = [{
        label: 'Mean Value of the Trained Elements',
        data: dataValues,
        backgroundColor: 'rgba(75, 192, 192, 0.2)',
        borderColor: 'rgba(75, 192, 192, 1)',
        borderWidth: 1
    }];

    // Define the barChartData object
    var barChartData = {
        labels: labels,
        datasets: datasets
    };

    //second
    var lineChartData = {
        labels: ["January", "February", "March", "April", "May"],
        datasets: [{
            label: 'Sessions',
            data: [50, 45, 60, 55, 70],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };
    //third
    var pieChartData = {
        labels: ["Desktop", "Mobile", "Tablet"],
        datasets: [{
            data: [30, 40, 30],
            backgroundColor: ['rgba(255, 99, 132, 0.7)', 'rgba(54, 162, 235, 0.7)', 'rgba(255, 205, 86, 0.7)'],
            hoverOffset: 4
        }]
    };
    //forth
    var doughnutChartData = {
        labels: ["Male", "Female"],
        datasets: [{
            data: [45, 55],
            backgroundColor: ['rgba(255, 99, 132, 0.7)', 'rgba(54, 162, 235, 0.7)'],
            hoverOffset: 4
        }]
    };

    // Create Bar Chart
    var barChart = new Chart(document.getElementById('barChart').getContext('2d'), {
        type: 'bar',
        data: barChartData,
    });

    // Create Line Chart
    var lineChart = new Chart(document.getElementById('lineChart').getContext('2d'), {
        type: 'line',
        data: lineChartData,
    });

    // Create Pie Chart
    var pieChart = new Chart(document.getElementById('pieChart').getContext('2d'), {
        type: 'pie',
        data: pieChartData,
    });

    // Create Doughnut Chart
    var doughnutChart = new Chart(document.getElementById('doughnutChart').getContext('2d'), {
        type: 'doughnut',
        data: doughnutChartData,
    });
</script>

{% endblock %}